<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <title>BottleBats 2018</title>

  <script>
    (function () {
      if (!process.env.HOT) {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = './dist/style.css';
        // HACK: Writing the script path should be done with webpack
        document.getElementsByTagName('head')[0].appendChild(link);
      }
    }());
  </script>

</head>

<body>
  <div id="app"></div>
  <script>
    {
      function addScriptToBody(src) {
        const script = document.createElement('script');
        script.src = src;
        document.body.appendChild(script);
      }

      const port = process.env.PORT || 3000;
      const prefix = (process.env.HOT)
        ? 'http://localhost:' + port + '/dist/'
        : './dist/';

      const src = prefix + "bundle.js";
      addScriptToBody(src);

      if (process.env.HOT) {
        const vendor = prefix + "vendors.bundle.js";
        const main = prefix + "main.bundle.js";
        addScriptToBody(vendor);
        addScriptToBody(main);
      }
    }
  </script>
</body>

</html>